<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `EntityReplacePolicy` trait in crate `legion`."><meta name="keywords" content="rust, rustlang, rust-lang, EntityReplacePolicy"><title>legion::world::EntityReplacePolicy - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../legion/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Trait EntityReplacePolicy</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.dst_entities">dst_entities</a><a href="#tymethod.get_dst_entity">get_dst_entity</a><a href="#tymethod.src_entities">src_entities</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='../index.html'>legion</a>::<wbr><a href='index.html'>world</a></p><script>window.sidebarCurrent = {name: 'EntityReplacePolicy', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/legion_core/world.rs.html#1252-1285' title='goto source code'>[src]</a></span><span class='in-band'>Trait <a href='../index.html'>legion</a>::<wbr><a href='index.html'>world</a>::<wbr><a class="trait" href=''>EntityReplacePolicy</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust trait'>pub trait EntityReplacePolicy&lt;'s&gt; {
    fn <a href='#tymethod.src_entities' class='fnname'>src_entities</a>&lt;'a&gt;(&amp;'s self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt; + 'a&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'s: 'a</span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.dst_entities' class='fnname'>dst_entities</a>&lt;'a&gt;(&amp;'s self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt; + 'a&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'s: 'a</span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.get_dst_entity' class='fnname'>get_dst_entity</a>(&amp;self, src_entity: <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt;;
}</pre></div><div class='docblock'><p>Used along with <code>CloneImpl</code>, allows specifying that certain entities in the receiving world should
be replaced with entities from the source world.</p>
<p>A typical implementation of this trait would be to wrap a HashMap. <code>src_entities</code> would be
implemented by returning keys(), <code>dst_entities</code> would be implemented by returning values(), and
<code>get_dst_entity</code> would be implemented by returning the result of get(src_entity).</p>
<p>Default implementations provided in legion include:</p>
<ul>
<li><code>NoneEntityReplacePolicy</code> - No entity replacement will occur</li>
<li><code>HashMapCloneImplResult</code> - Wraps the standard library's HashMap.</li>
</ul>
</div>
            <h2 id='required-methods' class='small-section-header'>Required methods<a href='#required-methods' class='anchor'></a></h2><div class='methods'><h3 id='tymethod.src_entities' class='method'><code id='src_entities.v'>fn <a href='#tymethod.src_entities' class='fnname'>src_entities</a>&lt;'a&gt;(&amp;'s self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt; + 'a&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'s: 'a,&nbsp;</span></code></h3><div class='docblock'><p>Returns all entities in the source world that will replace data in the destination world</p>
<h1 id="safety" class="section-header"><a href="#safety">Safety</a></h1>
<ul>
<li>All entities returned via the iterator must exist in the source world</li>
<li>All entities that will be copied from the source world must be included in the
returned iterator.</li>
</ul>
</div><h3 id='tymethod.dst_entities' class='method'><code id='dst_entities.v'>fn <a href='#tymethod.dst_entities' class='fnname'>dst_entities</a>&lt;'a&gt;(&amp;'s self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt; + 'a&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'s: 'a,&nbsp;</span></code></h3><div class='docblock'><p>Returns all entities in the destination world that will be replaced</p>
<h1 id="safety-1" class="section-header"><a href="#safety-1">Safety</a></h1>
<ul>
<li>All entities returned via the iterator must exist in the destination world</li>
<li>All entities that will be replaced in the destination world must be included in the
returned iterator</li>
</ul>
</div><h3 id='tymethod.get_dst_entity' class='method'><code id='get_dst_entity.v'>fn <a href='#tymethod.get_dst_entity' class='fnname'>get_dst_entity</a>(&amp;self, src_entity: <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt;</code></h3><div class='docblock'><p>Returns the entity in the destination world that will be replaced by the given entity in the
source world, otherwise None if the entity in the source world should not replace anything.</p>
<h1 id="safety-2" class="section-header"><a href="#safety-2">Safety</a></h1>
<ul>
<li>All entities passed into this function that result in a non-None return value must be
included in the iterator returned by <code>src_entities</code></li>
<li>All entities returned by this function must be included in the iterator returned by
<code>dst_entities</code></li>
</ul>
</div></div><span class='loading-content'>Loading content...</span>
            <h2 id='implementors' class='small-section-header'>Implementors<a href='#implementors' class='anchor'></a></h2><div class='item-list' id='implementors-list'><h3 id='impl-EntityReplacePolicy%3C%27s%3E' class='impl'><code class='in-band'>impl&lt;'m, 's&gt; EntityReplacePolicy&lt;'s&gt; for <a class="struct" href="../../legion/world/struct.HashMapEntityReplacePolicy.html" title="struct legion::world::HashMapEntityReplacePolicy">HashMapEntityReplacePolicy</a>&lt;'m&gt;</code><a href='#impl-EntityReplacePolicy%3C%27s%3E' class='anchor'></a><a class='srclink' href='../../src/legion_core/world.rs.html#1333-1351' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.src_entities' class="method hidden"><code id='src_entities.v-1'>fn <a href='#method.src_entities' class='fnname'>src_entities</a>&lt;'a&gt;(&amp;'s self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt; + 'a&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'s: 'a,&nbsp;</span></code><a class='srclink' href='../../src/legion_core/world.rs.html#1334-1339' title='goto source code'>[src]</a></h4><h4 id='method.dst_entities' class="method hidden"><code id='dst_entities.v-1'>fn <a href='#method.dst_entities' class='fnname'>dst_entities</a>&lt;'a&gt;(&amp;'s self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt; + 'a&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'s: 'a,&nbsp;</span></code><a class='srclink' href='../../src/legion_core/world.rs.html#1341-1346' title='goto source code'>[src]</a></h4><h4 id='method.get_dst_entity' class="method hidden"><code id='get_dst_entity.v-1'>fn <a href='#method.get_dst_entity' class='fnname'>get_dst_entity</a>(&amp;self, src_entity: <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt;</code><a class='srclink' href='../../src/legion_core/world.rs.html#1348-1350' title='goto source code'>[src]</a></h4></div><h3 id='impl-EntityReplacePolicy%3C%27s%3E-1' class='impl'><code class='in-band'>impl&lt;'s&gt; EntityReplacePolicy&lt;'s&gt; for <a class="struct" href="../../legion/world/struct.NoneEntityReplacePolicy.html" title="struct legion::world::NoneEntityReplacePolicy">NoneEntityReplacePolicy</a></code><a href='#impl-EntityReplacePolicy%3C%27s%3E-1' class='anchor'></a><a class='srclink' href='../../src/legion_core/world.rs.html#1299-1315' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.src_entities-1' class="method hidden"><code id='src_entities.v-2'>fn <a href='#method.src_entities-1' class='fnname'>src_entities</a>&lt;'a&gt;(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt; + 'a&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'s: 'a,&nbsp;</span></code><a class='srclink' href='../../src/legion_core/world.rs.html#1300-1305' title='goto source code'>[src]</a></h4><h4 id='method.dst_entities-1' class="method hidden"><code id='dst_entities.v-2'>fn <a href='#method.dst_entities-1' class='fnname'>dst_entities</a>&lt;'a&gt;(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt; + 'a&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'s: 'a,&nbsp;</span></code><a class='srclink' href='../../src/legion_core/world.rs.html#1307-1312' title='goto source code'>[src]</a></h4><h4 id='method.get_dst_entity-1' class="method hidden"><code id='get_dst_entity.v-2'>fn <a href='#method.get_dst_entity-1' class='fnname'>get_dst_entity</a>(&amp;self, _src_entity: <a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../legion/prelude/struct.Entity.html" title="struct legion::prelude::Entity">Entity</a>&gt;</code><a class='srclink' href='../../src/legion_core/world.rs.html#1314' title='goto source code'>[src]</a></h4></div></div><span class='loading-content'>Loading content...</span><script type="text/javascript" src="../../implementors/legion_core/world/trait.EntityReplacePolicy.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "legion";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>